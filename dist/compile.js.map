{"version":3,"sources":["../libs/compile.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;qBAYwB,OAAO;;kBAZhB,IAAI;;;;AAYJ,SAAS,OAAO,CAAC,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE;AACtD,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAA;AACxB,MAAM,OAAO,GAAG,MAAM,CAAC,OAAO,CAAA;;AAE9B,MAAI,IAAI,YAAA,CAAA;;AAER,MAAI,IAAI,KAAK,MAAM,EACjB,IAAI,GAAG,OAAO,CAAC,UAAU,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAA;AAC3C,MAAI,IAAI,KAAK,MAAM,EACjB,IAAI,GAAG,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAA;AAC5C,MAAI,IAAI,KAAK,KAAK,EAChB,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,gBAAG,YAAY,CAAC,QAAQ,CAAC,EAAE,IAAI,CAAC,CAAA;;AAExD,MAAI,CAAC,IAAI,EACP,MAAM,IAAI,KAAK,CAAC,sCAAsC,CAAC,CAAA;;AAEzD,SAAO,IAAI,CAAA;CACZ","file":"libs/compile.js","sourcesContent":["import fs from 'fs'\n\n/**\n*\n* Render html string by given tempate and data\n* Built-in template engine: ['swig']\n*\n* @param {String(Path)} [template] [the template abs path]\n* @param {Object} [data] [the template locals]\n* @param {Object} [engine] [the view engine's object, contains `engine.name`, `engine._engine`]\n*\n**/\nexport default function compile(template, data, engine) {\n  const name = engine.name\n  const _engine = engine._engine\n\n  let html\n\n  if (name === 'jade') \n    html = _engine.renderFile(template, data)\n  if (name === 'swig') \n    html = _engine.compileFile(template)(data)\n  if (name === 'ejs') \n    html = _engine.render(fs.readFileSync(template), data)\n\n  if (!html) \n    throw new Error('Template engine is not supported yet')\n\n  return html\n}\n"]}